const _0x1e873b=_0x2b2e;(function(_0x1f05a4,_0x45536e){const _0x4a27b6=_0x2b2e,_0x3317d2=_0x1f05a4();while(!![]){try{const _0x57c34c=-parseInt(_0x4a27b6(0x1ef))/0x1+-parseInt(_0x4a27b6(0x280))/0x2+-parseInt(_0x4a27b6(0x24c))/0x3+parseInt(_0x4a27b6(0x237))/0x4+-parseInt(_0x4a27b6(0x2a1))/0x5*(parseInt(_0x4a27b6(0x2a8))/0x6)+-parseInt(_0x4a27b6(0x2a6))/0x7*(parseInt(_0x4a27b6(0x21d))/0x8)+parseInt(_0x4a27b6(0x1fa))/0x9*(parseInt(_0x4a27b6(0x2b3))/0xa);if(_0x57c34c===_0x45536e)break;else _0x3317d2['push'](_0x3317d2['shift']());}catch(_0x50dd33){_0x3317d2['push'](_0x3317d2['shift']());}}}(_0xec94,0xaf65f));const orderTableBody=document[_0x1e873b(0x258)]('orderTableBody'),orderModal=document[_0x1e873b(0x258)](_0x1e873b(0x22a)),orderDetailModal=document[_0x1e873b(0x258)](_0x1e873b(0x1fe)),orderForm=document[_0x1e873b(0x258)](_0x1e873b(0x238)),orderSearchInput=document['getElementById'](_0x1e873b(0x251)),orderSearchBtn=document[_0x1e873b(0x258)](_0x1e873b(0x24a));let currentOrderId=null,customersCache=[],dishesCache=[],orderItemsCount=0x0;document[_0x1e873b(0x265)](_0x1e873b(0x1f2),()=>{const _0x2029b9=_0x1e873b;initOrdersPage(),document['getElementById'](_0x2029b9(0x22d))[_0x2029b9(0x265)](_0x2029b9(0x225),showAddOrderModal),document[_0x2029b9(0x258)](_0x2029b9(0x284))['addEventListener'](_0x2029b9(0x225),closeOrderModal),document[_0x2029b9(0x258)](_0x2029b9(0x283))['addEventListener'](_0x2029b9(0x225),closeOrderModal),document['getElementById'](_0x2029b9(0x2b8))[_0x2029b9(0x265)](_0x2029b9(0x225),closeOrderDetailModal),document['getElementById'](_0x2029b9(0x210))[_0x2029b9(0x265)]('click',closeOrderDetailModal),orderForm[_0x2029b9(0x265)](_0x2029b9(0x270),handleOrderFormSubmit),document['getElementById']('addOrderItemBtn')[_0x2029b9(0x265)](_0x2029b9(0x225),addOrderItemRow),document[_0x2029b9(0x258)](_0x2029b9(0x2a7))[_0x2029b9(0x265)](_0x2029b9(0x225),showOrderStatusUpdateOptions),setupAdvancedFilters();});const orderValidations={'orderCustomer':[{'validator':FormValidation['validateRequired'],'params':['cliente']}],'orderStatus':[{'validator':FormValidation[_0x1e873b(0x256)],'params':['estado']}]};function setupAdvancedFilters(){const _0x5d91a5=_0x1e873b;let _0x30272c=document['querySelector'](_0x5d91a5(0x25b));if(!_0x30272c){const _0x214d57=document[_0x5d91a5(0x1eb)]('#orders');if(!_0x214d57)return;const _0x1f51c7=_0x214d57['querySelector']('.search-box');if(!_0x1f51c7)return;_0x30272c=document[_0x5d91a5(0x28e)](_0x5d91a5(0x2a4)),_0x30272c[_0x5d91a5(0x23f)]='advanced-filter-container\x20bg-white\x20p-4\x20rounded-lg\x20mb-4\x20border\x20border-gray-200';const _0xaf03e7=document['createElement']('h4');_0xaf03e7[_0x5d91a5(0x23f)]=_0x5d91a5(0x1fd),_0xaf03e7[_0x5d91a5(0x22f)]=_0x5d91a5(0x261),_0x30272c[_0x5d91a5(0x1f7)](_0xaf03e7);const _0x36c027=document['createElement'](_0x5d91a5(0x2a4));_0x36c027['className']='grid\x20grid-cols-1\x20md:grid-cols-4\x20gap-4\x20mb-3';const _0x4c3987=[{'id':_0x5d91a5(0x21c),'label':'ID','type':'number','placeholder':'order\x20ID'},{'id':_0x5d91a5(0x27e),'label':_0x5d91a5(0x2af),'type':_0x5d91a5(0x298),'placeholder':'Customer\x20name'},{'id':_0x5d91a5(0x259),'label':'Date\x20from','type':_0x5d91a5(0x216),'placeholder':''},{'id':_0x5d91a5(0x1f0),'label':'Date\x20to','type':_0x5d91a5(0x216),'placeholder':''},{'id':'filter-status','label':'Status','type':'select','placeholder':'','options':[{'value':'','text':'All\x20states'},{'value':_0x5d91a5(0x204),'text':'Pending'},{'value':'In\x20Preparation','text':_0x5d91a5(0x278)},{'value':'Ready','text':_0x5d91a5(0x245)},{'value':_0x5d91a5(0x240),'text':_0x5d91a5(0x240)},{'value':_0x5d91a5(0x25e),'text':_0x5d91a5(0x25e)}]}];_0x4c3987[_0x5d91a5(0x21b)](_0x1f1104=>{const _0x321676=_0x5d91a5,_0x24229f=document['createElement'](_0x321676(0x2a4));_0x24229f[_0x321676(0x23f)]=_0x321676(0x226);const _0x3a5f71=document[_0x321676(0x28e)](_0x321676(0x275));_0x3a5f71[_0x321676(0x23f)]=_0x321676(0x20d),_0x3a5f71[_0x321676(0x28b)]=_0x1f1104['id'],_0x3a5f71[_0x321676(0x22f)]=_0x1f1104['label'];let _0xc77ca0;_0x1f1104[_0x321676(0x2b9)]===_0x321676(0x222)?(_0xc77ca0=document[_0x321676(0x28e)](_0x321676(0x222)),_0xc77ca0[_0x321676(0x23f)]='form-control\x20order-filter-field',_0xc77ca0['id']=_0x1f1104['id'],_0x1f1104[_0x321676(0x23b)][_0x321676(0x21b)](_0x1e59a3=>{const _0x49c169=_0x321676,_0x1dad43=document[_0x49c169(0x28e)](_0x49c169(0x254));_0x1dad43[_0x49c169(0x207)]=_0x1e59a3[_0x49c169(0x207)],_0x1dad43[_0x49c169(0x22f)]=_0x1e59a3[_0x49c169(0x298)],_0xc77ca0[_0x49c169(0x1f7)](_0x1dad43);})):(_0xc77ca0=document[_0x321676(0x28e)](_0x321676(0x29e)),_0xc77ca0[_0x321676(0x23f)]=_0x321676(0x28c),_0xc77ca0[_0x321676(0x2b9)]=_0x1f1104[_0x321676(0x2b9)],_0xc77ca0['id']=_0x1f1104['id'],_0xc77ca0[_0x321676(0x214)]=_0x1f1104[_0x321676(0x214)]),_0x24229f[_0x321676(0x1f7)](_0x3a5f71),_0x24229f['appendChild'](_0xc77ca0),_0x36c027[_0x321676(0x1f7)](_0x24229f);}),_0x30272c[_0x5d91a5(0x1f7)](_0x36c027);const _0x4fe266=document['createElement'](_0x5d91a5(0x2a4));_0x4fe266['className']=_0x5d91a5(0x24b);const _0x38b4eb=document[_0x5d91a5(0x28e)](_0x5d91a5(0x20c));_0x38b4eb[_0x5d91a5(0x2b9)]='button',_0x38b4eb['className']=_0x5d91a5(0x29b),_0x38b4eb[_0x5d91a5(0x22f)]='Clear',_0x38b4eb[_0x5d91a5(0x265)](_0x5d91a5(0x225),resetFilters);const _0x3f9608=document['createElement'](_0x5d91a5(0x20c));_0x3f9608[_0x5d91a5(0x2b9)]='button',_0x3f9608[_0x5d91a5(0x23f)]=_0x5d91a5(0x268),_0x3f9608[_0x5d91a5(0x22f)]=_0x5d91a5(0x220),_0x3f9608[_0x5d91a5(0x265)](_0x5d91a5(0x225),applyAdvancedFilters),_0x4fe266['appendChild'](_0x38b4eb),_0x4fe266['appendChild'](_0x3f9608),_0x30272c[_0x5d91a5(0x1f7)](_0x4fe266),_0x1f51c7['parentNode'][_0x5d91a5(0x205)](_0x30272c,_0x1f51c7[_0x5d91a5(0x287)]);}}function resetFilters(){const _0x5c36bb=_0x1e873b;document[_0x5c36bb(0x213)]('.order-filter-field')[_0x5c36bb(0x21b)](_0x4af1f9=>{const _0x6dff91=_0x5c36bb;_0x4af1f9[_0x6dff91(0x207)]='';}),fetchOrders();}function applyAdvancedFilters(){const _0x421e43=_0x1e873b,_0x4a4d23={'id':document[_0x421e43(0x258)](_0x421e43(0x21c))?.['value']||'','customer':document[_0x421e43(0x258)](_0x421e43(0x27e))?.['value']||'','dateFrom':document[_0x421e43(0x258)](_0x421e43(0x259))?.[_0x421e43(0x207)]||'','dateTo':document['getElementById'](_0x421e43(0x1f0))?.[_0x421e43(0x207)]||'','status':document[_0x421e43(0x258)](_0x421e43(0x246))?.[_0x421e43(0x207)]||''},_0x1ca529=Object[_0x421e43(0x21e)](_0x4a4d23)[_0x421e43(0x21f)](_0x119b5c=>_0x119b5c!=='');if(!_0x1ca529){fetchOrders();return;}showLoading(),Promise[_0x421e43(0x1f9)]([fetch(API_BASE_URL+_0x421e43(0x20b),{'credentials':'include','headers':{'Content-Type':_0x421e43(0x229)}})[_0x421e43(0x279)](_0x5a4544=>{const _0x777e40=_0x421e43;if(!_0x5a4544['ok'])throw new Error(_0x777e40(0x1f8));return _0x5a4544[_0x777e40(0x260)]();}),fetch(API_BASE_URL+'/clients',{'credentials':_0x421e43(0x212),'headers':{'Content-Type':_0x421e43(0x229)}})['then'](_0x3331c8=>{const _0x11d8ca=_0x421e43;if(!_0x3331c8['ok'])throw new Error('Failed\x20to\x20fetch\x20clients');return _0x3331c8[_0x11d8ca(0x260)]();})])['then'](([_0x4ef877,_0x110ddf])=>{const _0x206995={};_0x110ddf['forEach'](_0x45aeb7=>{const _0x4eb16e=_0x2b2e;_0x206995[_0x45aeb7[_0x4eb16e(0x2bf)]]=_0x45aeb7[_0x4eb16e(0x291)]+'\x20'+_0x45aeb7['lastName'];});const _0x561fef=_0x4ef877['filter'](_0x54b261=>{const _0x119302=_0x2b2e;if(_0x4a4d23['id']&&_0x54b261[_0x119302(0x1ff)]!=_0x4a4d23['id'])return![];if(_0x4a4d23[_0x119302(0x249)]){const _0x48a65a=_0x206995[_0x54b261[_0x119302(0x1ec)]]||'';if(!_0x48a65a[_0x119302(0x235)]()['includes'](_0x4a4d23[_0x119302(0x249)]['toLowerCase']()))return![];}const _0x5e8ff3=new Date(_0x54b261[_0x119302(0x216)]);if(_0x4a4d23[_0x119302(0x293)]){const _0x1a8b1c=new Date(_0x4a4d23[_0x119302(0x293)]);_0x1a8b1c['setHours'](0x0,0x0,0x0,0x0);if(_0x5e8ff3<_0x1a8b1c)return![];}if(_0x4a4d23[_0x119302(0x1e8)]){const _0x44bb57=new Date(_0x4a4d23['dateTo']);_0x44bb57[_0x119302(0x239)](0x17,0x3b,0x3b,0x3e7);if(_0x5e8ff3>_0x44bb57)return![];}if(_0x4a4d23[_0x119302(0x25a)]&&_0x54b261[_0x119302(0x25a)]!==_0x4a4d23[_0x119302(0x25a)])return![];return!![];});displayOrders(_0x561fef,_0x206995);})[_0x421e43(0x22e)](_0x57e209=>{const _0x16bb4a=_0x421e43;showError(_0x57e209[_0x16bb4a(0x269)]);})[_0x421e43(0x27b)](()=>{hideLoading();});}async function initOrdersPage(){const _0xc6ada=_0x1e873b;showLoading();try{const [_0x256270,_0x37e5a0,_0x18080a]=await Promise[_0xc6ada(0x1f9)]([fetch(API_BASE_URL+_0xc6ada(0x28a),{'credentials':'include','headers':{'Content-Type':_0xc6ada(0x229)}}),fetch(API_BASE_URL+'/orders',{'credentials':'include','headers':{'Content-Type':_0xc6ada(0x229)}}),fetch(API_BASE_URL+_0xc6ada(0x26a),{'credentials':_0xc6ada(0x212),'headers':{'Content-Type':_0xc6ada(0x229)}})]);if(!_0x256270['ok'])throw new Error(_0xc6ada(0x27d));if(!_0x37e5a0['ok'])throw new Error(_0xc6ada(0x1f8));if(!_0x18080a['ok'])throw new Error('Failed\x20to\x20fetch\x20dishes');const _0x4bb575=await _0x256270[_0xc6ada(0x260)](),_0x12f286=await _0x37e5a0[_0xc6ada(0x260)](),_0x3834e5=await _0x18080a[_0xc6ada(0x260)]();customersCache=_0x4bb575,dishesCache=_0x3834e5;const _0x5ea983={};_0x4bb575[_0xc6ada(0x21b)](_0x4e3958=>{const _0x58ab78=_0xc6ada;_0x5ea983[_0x4e3958[_0x58ab78(0x2bf)]]=_0x4e3958[_0x58ab78(0x291)]+'\x20'+_0x4e3958['lastName'];}),displayOrders(_0x12f286,_0x5ea983),populateCustomerDropdown(_0x4bb575);}catch(_0x1ddf10){showError(_0x1ddf10[_0xc6ada(0x269)]);}finally{hideLoading();}}async function fetchOrders(){const _0x429d62=_0x1e873b;showLoading();try{let _0x45ab55={};if(customersCache[_0x429d62(0x242)]===0x0){const _0x1226dc=await fetch(API_BASE_URL+'/clients',{'credentials':_0x429d62(0x212),'headers':{'Content-Type':_0x429d62(0x229)}});if(!_0x1226dc['ok'])throw new Error(_0x429d62(0x27d));const _0x3c2713=await _0x1226dc[_0x429d62(0x260)]();customersCache=_0x3c2713,_0x3c2713['forEach'](_0xbe16e5=>{const _0xc4e6ad=_0x429d62;_0x45ab55[_0xbe16e5[_0xc4e6ad(0x2bf)]]=_0xbe16e5[_0xc4e6ad(0x291)]+'\x20'+_0xbe16e5[_0xc4e6ad(0x23a)];});}else customersCache[_0x429d62(0x21b)](_0x345437=>{const _0x4e5aa2=_0x429d62;_0x45ab55[_0x345437['idClient']]=_0x345437[_0x4e5aa2(0x291)]+'\x20'+_0x345437['lastName'];});const _0x326ff4=await fetch(API_BASE_URL+_0x429d62(0x20b),{'credentials':_0x429d62(0x212),'headers':{'Content-Type':_0x429d62(0x229)}});if(!_0x326ff4['ok'])throw new Error(_0x429d62(0x1f8));const _0x5c2a0d=await _0x326ff4['json']();displayOrders(_0x5c2a0d,_0x45ab55);}catch(_0x1ae9ec){showError(_0x1ae9ec[_0x429d62(0x269)]);}finally{hideLoading();}}function displayOrders(_0x22a065,_0xc1e79d){const _0x3a262d=_0x1e873b;orderTableBody['innerHTML']='';if(_0x22a065[_0x3a262d(0x242)]===0x0){orderTableBody['appendChild'](createNoDataRow(_0x3a262d(0x22c),0x5));return;}_0x22a065['forEach'](_0x1ec758=>{const _0x596389=createOrderRow(_0x1ec758,_0xc1e79d);orderTableBody['appendChild'](_0x596389);});}function _0xec94(){const _0x44cced=['Pendiente','forEach','filter-id','8xIMTaS','values','some','Apply\x20Filters','innerHTML','select','Seleccionar\x20plato','DELETE','click','form-group','colSpan','creado','application/json','orderModal','orderItems','No\x20se\x20encontraron\x20pedidos','addOrderBtn','catch','textContent','py-2\x20text-right\x20font-semibold','includes','btn\x20btn-sm\x20btn-primary\x20view-order-btn','classList','match','toLowerCase','/menu/','1013832ABNYPG','orderForm','setHours','lastName','options','Seleccionar\x20Estado','replace','order-total\x20text-xl\x20font-bold\x20mt-4','className','Delivered','<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Eliminar','length','table','fas\x20fa-trash','Ready','filter-status','span','preventDefault','customer','orderSearchBtn','flex\x20justify-end\x20space-x-2','2436837sDBzgu','number','col-span-2','mb-2','Listo','orderSearchInput','true','Could\x20not\x20determine\x20order\x20ID','option','py-2\x20text-center','validateRequired','col-span-5','getElementById','filter-date-from','status','.advanced-filter-container','.price-input','order-item-','Canceled','status-label\x20status-','json','Advanced\x20Filters','target','idDetail','map','addEventListener','remove','orderDetailItems','btn\x20btn-primary','message','/menu','/orders/','col-span-3','quantity-','Debe\x20agregar\x20al\x20menos\x20un\x20ítem\x20al\x20pedido','bg-gray-100\x20font-bold','submit','Seleccione\x20un\x20plato','Failed\x20to\x20fetch\x20order\x20items','push','/order-details/order/','label','\x20-\x20$','Failed\x20to\x20update\x20order','In\x20Preparation','then','.dish-select','finally','filter','Failed\x20to\x20fetch\x20clients','filter-customer','top','1493856BlvqYS','<strong>Pedido\x20#','Desconocido','cancelOrderBtn','closeOrderModal','dataset','order-total','nextSibling','.quantity-input','Entregado','/clients','htmlFor','form-control\x20order-filter-field','Total:\x20$','createElement','add','bg-green-800\x20text-white\x20px-4\x20py-2\x20font-semibold','firstName','</strong>','dateFrom','quantity','Actualizar\x20Estado\x20(','En\x20Preparación','dispatchEvent','text','removeChild','btn\x20btn-sm\x20btn-warning\x20edit-order-btn','btn\x20btn-light','toFixed','contains','input','name','stringify','24730DOeXcW','w-full','left','div','active','2144919zekBJL','updateOrderStatusBtn','1578ziHugu','px-4\x20py-2\x20cursor-pointer\x20hover:bg-gray-100\x20rounded\x20transition-colors','col-span-2\x20flex\x20justify-end\x20items-end','/clients/','orderModalTitle','.order-item-row','idDish','Customer','<strong>Cliente:</strong>\x20','toLocaleDateString','py-2\x20text-left','10vhXEgu','dish-','/order-details','Precio','actualizado','closeOrderDetailModal','type','toISOString','getBoundingClientRect','<strong>Estado:</strong>\x20','validateForm','removeEventListener','idClient','orderStatus','input,\x20select,\x20textarea','py-2\x20text-right','showFieldError','<strong>Fecha:</strong>\x20','fixed\x20bg-white\x20rounded-lg\x20shadow-lg\x20z-50\x20overflow-hidden','dateTo','tbody','clearFieldError','querySelector','idCustomer','orderId','/status?status=','696238Dtarxy','filter-date-to','Ingrese\x20una\x20cantidad\x20válida','DOMContentLoaded','Seleccionar\x20cliente','Failed\x20to\x20update\x20order\x20status','Cantidad','change','appendChild','Failed\x20to\x20fetch\x20orders','all','38948697BnjGCC','grid\x20grid-cols-12\x20gap-2\x20items-center','reset','text-lg\x20font-semibold\x20mb-3','orderDetailModal','idOrder','block\x20text-xs\x20font-medium\x20text-gray-700\x20mb-1','.error-message','pending','minWidth','Pending','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22text-left\x20py-2\x22>Plato</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22text-center\x20py-2\x22>Cantidad</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22text-right\x20py-2\x22>Precio</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22text-right\x20py-2\x22>Total</th>\x0a\x20\x20\x20\x20','value','table-actions','PUT','/order-details/','/orders','button','form-label','btn\x20btn-sm\x20btn-danger\x20delete-order-btn','\x20exitosamente','closeOrderDetailBtn','price','include','querySelectorAll','placeholder','POST','date','orderCustomer','style','Cancelado'];_0xec94=function(){return _0x44cced;};return _0xec94();}function createOrderRow(_0x28ca5e,_0x4054d){const _0x2f883f=_0x1e873b,_0x35b42a=document[_0x2f883f(0x28e)]('tr'),_0x531b12=new Date(_0x28ca5e['date']);_0x35b42a['appendChild'](createTableCell('#'+_0x28ca5e['idOrder'])),_0x35b42a['appendChild'](createTableCell(_0x4054d[_0x28ca5e[_0x2f883f(0x1ec)]]||_0x2f883f(0x282))),_0x35b42a[_0x2f883f(0x1f7)](createTableCell(_0x531b12[_0x2f883f(0x2b1)]()));const _0xb750d=document[_0x2f883f(0x28e)]('td'),_0x705418=createElement(_0x2f883f(0x247),{'className':_0x2f883f(0x25f)+(_0x28ca5e[_0x2f883f(0x25a)]||_0x2f883f(0x202))['toLowerCase']()['replace'](/\s+/g,''),'textContent':_0x28ca5e[_0x2f883f(0x25a)]||'Pendiente'});_0xb750d[_0x2f883f(0x1f7)](_0x705418),_0x35b42a[_0x2f883f(0x1f7)](_0xb750d);const _0xaec1f1=createTableCell('',_0x2f883f(0x208)),_0x19cafb=createButton('fas\x20fa-eye',_0x2f883f(0x232),()=>showOrderDetails(_0x28ca5e['idOrder']),{'id':_0x28ca5e[_0x2f883f(0x1ff)]}),_0x3aa68c=createButton('fas\x20fa-edit',_0x2f883f(0x29a),()=>showEditOrderModal(_0x28ca5e[_0x2f883f(0x1ff)]),{'id':_0x28ca5e['idOrder']}),_0x28a1f3=createButton(_0x2f883f(0x244),_0x2f883f(0x20e),()=>showDeleteConfirmation('order',_0x28ca5e[_0x2f883f(0x1ff)]),{'id':_0x28ca5e[_0x2f883f(0x1ff)]});return _0xaec1f1[_0x2f883f(0x1f7)](_0x19cafb),_0xaec1f1[_0x2f883f(0x1f7)](_0x3aa68c),_0xaec1f1[_0x2f883f(0x1f7)](_0x28a1f3),_0x35b42a[_0x2f883f(0x1f7)](_0xaec1f1),_0x35b42a;}function populateCustomerDropdown(_0x1de664){const _0x25ca1f=_0x1e873b,_0x5613cb=document['getElementById'](_0x25ca1f(0x217));_0x5613cb[_0x25ca1f(0x221)]='';const _0x261d0b=createElement(_0x25ca1f(0x254),{'attributes':{'value':''},'textContent':_0x25ca1f(0x1f3)});_0x5613cb['appendChild'](_0x261d0b),_0x1de664['forEach'](_0x5d9f11=>{const _0x4358ef=_0x25ca1f,_0x4da6db=createElement(_0x4358ef(0x254),{'attributes':{'value':_0x5d9f11[_0x4358ef(0x2bf)]},'textContent':_0x5d9f11['firstName']+'\x20'+_0x5d9f11['lastName']});_0x5613cb[_0x4358ef(0x1f7)](_0x4da6db);});}function showAddOrderModal(){const _0xf08b3e=_0x1e873b;document[_0xf08b3e(0x258)](_0xf08b3e(0x2ac))['textContent']='Crear\x20Nuevo\x20Pedido',orderForm[_0xf08b3e(0x1fc)](),document[_0xf08b3e(0x258)](_0xf08b3e(0x1ed))[_0xf08b3e(0x207)]='';const _0x323dbd=document[_0xf08b3e(0x258)](_0xf08b3e(0x22b));_0x323dbd[_0xf08b3e(0x221)]='',orderItemsCount=0x0,addOrderItemRow(),clearAllFormErrors(orderForm),orderModal[_0xf08b3e(0x233)][_0xf08b3e(0x28f)](_0xf08b3e(0x2a5));}async function showEditOrderModal(_0x1238a6){const _0x3343ef=_0x1e873b;showLoading();try{const _0x58d390=await fetch(API_BASE_URL+'/orders/'+_0x1238a6,{'credentials':_0x3343ef(0x212),'headers':{'Content-Type':'application/json'}});if(!_0x58d390['ok'])throw new Error('Failed\x20to\x20fetch\x20order\x20details');const _0x441356=await _0x58d390[_0x3343ef(0x260)](),_0x5553d2=await fetch(API_BASE_URL+_0x3343ef(0x274)+_0x1238a6,{'credentials':_0x3343ef(0x212),'headers':{'Content-Type':_0x3343ef(0x229)}});if(!_0x5553d2['ok'])throw new Error(_0x3343ef(0x272));const _0x2f4e65=await _0x5553d2['json']();document[_0x3343ef(0x258)](_0x3343ef(0x2ac))[_0x3343ef(0x22f)]='Editar\x20Pedido',document['getElementById'](_0x3343ef(0x1ed))[_0x3343ef(0x207)]=_0x441356[_0x3343ef(0x1ff)],document[_0x3343ef(0x258)](_0x3343ef(0x217))[_0x3343ef(0x207)]=_0x441356['idCustomer'],document[_0x3343ef(0x258)](_0x3343ef(0x2c0))[_0x3343ef(0x207)]=_0x441356[_0x3343ef(0x25a)];const _0xa82677=document[_0x3343ef(0x258)]('orderItems');_0xa82677[_0x3343ef(0x221)]='',orderItemsCount=0x0;if(_0x2f4e65[_0x3343ef(0x242)]===0x0)addOrderItemRow();else for(const _0x4bd246 of _0x2f4e65){await addOrderItemRow(_0x4bd246);}clearAllFormErrors(orderForm),orderModal[_0x3343ef(0x233)][_0x3343ef(0x28f)](_0x3343ef(0x2a5));}catch(_0xed1a8b){showError(_0xed1a8b['message']);}finally{hideLoading();}}function closeOrderModal(){const _0x3ca062=_0x1e873b;orderModal[_0x3ca062(0x233)][_0x3ca062(0x266)]('active');}function clearAllFormErrors(_0x393cab){const _0x373f87=_0x1e873b,_0x10be91=_0x393cab['querySelectorAll'](_0x373f87(0x201));_0x10be91[_0x373f87(0x21b)](_0x955a60=>{_0x955a60['textContent']='';});const _0x2536f8=_0x393cab[_0x373f87(0x213)](_0x373f87(0x2c1));_0x2536f8[_0x373f87(0x21b)](_0x1214a4=>{const _0x37d426=_0x373f87;_0x1214a4[_0x37d426(0x233)][_0x37d426(0x266)]('border-red-500');});}async function addOrderItemRow(_0x10a063=null){const _0x2eb273=_0x1e873b;orderItemsCount++;const _0xbee709=_0x2eb273(0x25d)+orderItemsCount;if(dishesCache[_0x2eb273(0x242)]===0x0)try{const _0x291c1c=await fetch(API_BASE_URL+_0x2eb273(0x26a),{'credentials':_0x2eb273(0x212),'headers':{'Content-Type':_0x2eb273(0x229)}});if(!_0x291c1c['ok'])throw new Error('Failed\x20to\x20load\x20dishes');dishesCache=await _0x291c1c['json']();}catch(_0x3453a8){showError('Failed\x20to\x20load\x20dishes:\x20'+_0x3453a8[_0x2eb273(0x269)]);return;}const _0xe4d3f6=document['getElementById'](_0x2eb273(0x22b)),_0x57b925=createElement(_0x2eb273(0x2a4),{'className':'order-item-row\x20mb-3\x20p-3\x20border\x20rounded\x20bg-gray-50','id':_0xbee709}),_0x1fefb8=createElement(_0x2eb273(0x2a4),{'className':_0x2eb273(0x1fb)}),_0x23862b=createElement('div',{'className':_0x2eb273(0x257)}),_0x3c45bf=createElement(_0x2eb273(0x275),{'className':_0x2eb273(0x200),'textContent':'Plato'}),_0x33a918=createElement('select',{'className':'form-control\x20dish-select','attributes':{'required':_0x2eb273(0x252),'name':_0x2eb273(0x2b4)+_0xbee709}}),_0x3fb39d=createElement('option',{'attributes':{'value':''},'textContent':_0x2eb273(0x223)});_0x33a918[_0x2eb273(0x1f7)](_0x3fb39d),dishesCache['forEach'](_0x1a171a=>{const _0x43f6a7=_0x2eb273,_0x530661=createElement(_0x43f6a7(0x254),{'attributes':{'value':_0x1a171a['idDish']},'textContent':_0x1a171a[_0x43f6a7(0x29f)]+_0x43f6a7(0x276)+_0x1a171a[_0x43f6a7(0x211)]['toFixed'](0x2),'dataset':{'price':_0x1a171a[_0x43f6a7(0x211)]}});_0x33a918['appendChild'](_0x530661);});_0x10a063&&(_0x33a918[_0x2eb273(0x207)]=_0x10a063['idDish']);_0x23862b[_0x2eb273(0x1f7)](_0x3c45bf),_0x23862b[_0x2eb273(0x1f7)](_0x33a918);const _0xb33c23=createElement(_0x2eb273(0x2a4),{'className':_0x2eb273(0x24e)}),_0x2b6b56=createElement(_0x2eb273(0x275),{'className':_0x2eb273(0x200),'textContent':_0x2eb273(0x1f5)}),_0xbcaf37=createElement(_0x2eb273(0x29e),{'className':'form-control\x20quantity-input','attributes':{'type':_0x2eb273(0x24d),'min':'1','required':_0x2eb273(0x252),'name':_0x2eb273(0x26d)+_0xbee709},'value':_0x10a063?_0x10a063[_0x2eb273(0x294)]:'1'});_0xb33c23['appendChild'](_0x2b6b56),_0xb33c23[_0x2eb273(0x1f7)](_0xbcaf37);const _0x41da93=createElement(_0x2eb273(0x2a4),{'className':_0x2eb273(0x26c)}),_0x42c34a=createElement('label',{'className':'block\x20text-xs\x20font-medium\x20text-gray-700\x20mb-1','textContent':_0x2eb273(0x2b6)}),_0x1bc0ba=createElement('input',{'className':'form-control\x20price-input','attributes':{'type':_0x2eb273(0x24d),'readonly':_0x2eb273(0x252),'name':'price-'+_0xbee709},'value':_0x10a063?_0x10a063[_0x2eb273(0x211)][_0x2eb273(0x29c)](0x2):''});_0x41da93[_0x2eb273(0x1f7)](_0x42c34a),_0x41da93['appendChild'](_0x1bc0ba);const _0x3e814c=createElement(_0x2eb273(0x2a4),{'className':_0x2eb273(0x2aa)}),_0x139cf1=createElement(_0x2eb273(0x20c),{'className':'btn\x20btn-danger\x20btn-sm','attributes':{'type':_0x2eb273(0x20c)},'innerHTML':_0x2eb273(0x241),'events':{'click':()=>{const _0x2c4578=_0x2eb273;_0x57b925[_0x2c4578(0x266)](),updateOrderTotal();}}});_0x3e814c['appendChild'](_0x139cf1),_0x1fefb8[_0x2eb273(0x1f7)](_0x23862b),_0x1fefb8[_0x2eb273(0x1f7)](_0xb33c23),_0x1fefb8[_0x2eb273(0x1f7)](_0x41da93),_0x1fefb8[_0x2eb273(0x1f7)](_0x3e814c),_0x57b925[_0x2eb273(0x1f7)](_0x1fefb8),_0xe4d3f6[_0x2eb273(0x1f7)](_0x57b925),_0x33a918['addEventListener'](_0x2eb273(0x1f6),function(){const _0x2f779d=_0x2eb273,_0x3fe7b9=this[_0x2f779d(0x23b)][this['selectedIndex']];_0x3fe7b9[_0x2f779d(0x285)][_0x2f779d(0x211)]?(_0x1bc0ba[_0x2f779d(0x207)]=parseFloat(_0x3fe7b9[_0x2f779d(0x285)]['price'])[_0x2f779d(0x29c)](0x2),updateOrderTotal()):(_0x1bc0ba[_0x2f779d(0x207)]='',updateOrderTotal());}),_0xbcaf37[_0x2eb273(0x265)](_0x2eb273(0x1f6),updateOrderTotal),_0xbcaf37[_0x2eb273(0x265)](_0x2eb273(0x29e),updateOrderTotal);if(_0x10a063){const _0x5241f9=new Event('change');_0x33a918[_0x2eb273(0x297)](_0x5241f9);}return _0x57b925;}function updateOrderTotal(){const _0x3a00bc=_0x1e873b;let _0x1232e5=0x0;const _0x5a1d20=document[_0x3a00bc(0x213)](_0x3a00bc(0x2ad));_0x5a1d20['forEach'](_0x2b733d=>{const _0x4805e6=_0x3a00bc,_0x4f86c1=_0x2b733d[_0x4805e6(0x1eb)](_0x4805e6(0x25c)),_0x187e6d=_0x2b733d['querySelector'](_0x4805e6(0x288));if(_0x4f86c1&&_0x187e6d&&_0x4f86c1[_0x4805e6(0x207)]&&_0x187e6d['value']){const _0x200315=parseFloat(_0x4f86c1[_0x4805e6(0x207)]),_0x109392=parseInt(_0x187e6d[_0x4805e6(0x207)]);!isNaN(_0x200315)&&!isNaN(_0x109392)&&_0x109392>0x0&&(_0x1232e5+=_0x200315*_0x109392);}});const _0x1543c6=document[_0x3a00bc(0x258)](_0x3a00bc(0x286));_0x1543c6&&(_0x1543c6[_0x3a00bc(0x22f)]=_0x1232e5[_0x3a00bc(0x29c)](0x2));}function validateOrderItems(){const _0x15cf6f=_0x1e873b,_0x433907=document['querySelectorAll']('.order-item-row');if(_0x433907[_0x15cf6f(0x242)]===0x0)return showError(_0x15cf6f(0x26e)),![];let _0x58e25d=!![];return _0x433907[_0x15cf6f(0x21b)](_0x477033=>{const _0x59f555=_0x15cf6f,_0x5ec8c9=_0x477033[_0x59f555(0x1eb)]('.dish-select'),_0x3a80db=_0x477033[_0x59f555(0x1eb)](_0x59f555(0x288));!_0x5ec8c9['value']?(FormValidation['showFieldError'](_0x5ec8c9,_0x59f555(0x271)),_0x58e25d=![]):FormValidation[_0x59f555(0x1ea)](_0x5ec8c9),!_0x3a80db[_0x59f555(0x207)]||parseInt(_0x3a80db[_0x59f555(0x207)])<0x1?(FormValidation[_0x59f555(0x1e5)](_0x3a80db,_0x59f555(0x1f1)),_0x58e25d=![]):FormValidation[_0x59f555(0x1ea)](_0x3a80db);}),_0x58e25d;}async function handleOrderFormSubmit(_0x39a041){const _0x183b80=_0x1e873b;_0x39a041[_0x183b80(0x248)]();if(!FormValidation[_0x183b80(0x2bd)](orderForm,orderValidations)||!validateOrderItems())return;const _0x4f05b4=document[_0x183b80(0x258)](_0x183b80(0x1ed))[_0x183b80(0x207)],_0x98a3cc=document[_0x183b80(0x258)](_0x183b80(0x217))['value'],_0xa55285=document['getElementById'](_0x183b80(0x2c0))[_0x183b80(0x207)],_0x1ae087=[];document[_0x183b80(0x213)](_0x183b80(0x2ad))[_0x183b80(0x21b)](_0x2e5f1=>{const _0xc65a69=_0x183b80,_0x25a307=_0x2e5f1['querySelector'](_0xc65a69(0x27a)),_0x425b12=_0x2e5f1[_0xc65a69(0x1eb)](_0xc65a69(0x288)),_0x32b2d7=_0x2e5f1[_0xc65a69(0x1eb)](_0xc65a69(0x25c));_0x25a307[_0xc65a69(0x207)]&&_0x425b12[_0xc65a69(0x207)]&&_0x32b2d7[_0xc65a69(0x207)]&&_0x1ae087[_0xc65a69(0x273)]({'idDish':parseInt(_0x25a307['value']),'quantity':parseInt(_0x425b12[_0xc65a69(0x207)]),'price':parseFloat(_0x32b2d7['value'])});}),showLoading();try{const _0x48becc={'idCustomer':parseInt(_0x98a3cc),'status':_0xa55285,'date':new Date()[_0x183b80(0x2ba)]()};let _0x559ac5,_0x14cb52;if(_0x4f05b4){_0x48becc[_0x183b80(0x1ff)]=parseInt(_0x4f05b4),_0x559ac5=await fetch(API_BASE_URL+_0x183b80(0x26b)+_0x4f05b4,{'method':_0x183b80(0x209),'credentials':_0x183b80(0x212),'headers':{'Content-Type':_0x183b80(0x229)},'body':JSON[_0x183b80(0x2a0)](_0x48becc)});if(!_0x559ac5['ok'])throw new Error(_0x183b80(0x277));_0x14cb52=_0x4f05b4;const _0x341e59=await fetch(API_BASE_URL+_0x183b80(0x274)+_0x4f05b4,{'credentials':_0x183b80(0x212),'headers':{'Content-Type':_0x183b80(0x229)}}),_0x1259f0=await _0x341e59[_0x183b80(0x260)]();for(const _0x14b493 of _0x1259f0){await fetch(API_BASE_URL+_0x183b80(0x20a)+_0x14b493[_0x183b80(0x263)],{'method':_0x183b80(0x224),'credentials':_0x183b80(0x212),'headers':{'Content-Type':'application/json'}});}}else{_0x559ac5=await fetch(API_BASE_URL+_0x183b80(0x20b),{'method':_0x183b80(0x215),'credentials':_0x183b80(0x212),'headers':{'Content-Type':_0x183b80(0x229)},'body':JSON[_0x183b80(0x2a0)](_0x48becc)});if(!_0x559ac5['ok'])throw new Error('Failed\x20to\x20create\x20order');const _0x503b51=await _0x559ac5[_0x183b80(0x298)](),_0x22bc2e=_0x503b51[_0x183b80(0x234)](/\d+/);_0x14cb52=_0x22bc2e?parseInt(_0x22bc2e[0x0]):null;if(!_0x14cb52)throw new Error(_0x183b80(0x253));}for(const _0x103197 of _0x1ae087){const _0x58e616={'idOrder':parseInt(_0x14cb52),'idDish':_0x103197[_0x183b80(0x2ae)],'quantity':_0x103197[_0x183b80(0x294)],'price':_0x103197['price']},_0x2d23ba=await fetch(API_BASE_URL+_0x183b80(0x2b5),{'method':'POST','credentials':_0x183b80(0x212),'headers':{'Content-Type':_0x183b80(0x229)},'body':JSON[_0x183b80(0x2a0)](_0x58e616)});if(!_0x2d23ba['ok'])throw new Error('Failed\x20to\x20add\x20order\x20item');}showSuccess('Pedido\x20'+(_0x4f05b4?_0x183b80(0x2b7):_0x183b80(0x228))+_0x183b80(0x20f)),closeOrderModal(),fetchOrders();}catch(_0x43c34e){showError(_0x43c34e[_0x183b80(0x269)]);}finally{hideLoading();}}async function showOrderDetails(_0x421ac3){const _0x13ea0e=_0x1e873b;showLoading();try{const _0xd871a8=await fetch(API_BASE_URL+'/orders/'+_0x421ac3,{'credentials':_0x13ea0e(0x212),'headers':{'Content-Type':_0x13ea0e(0x229)}});if(!_0xd871a8['ok'])throw new Error('Failed\x20to\x20fetch\x20order\x20details');const _0x40039e=await _0xd871a8['json'](),_0x3c6dad=await fetch(API_BASE_URL+_0x13ea0e(0x274)+_0x421ac3,{'credentials':_0x13ea0e(0x212),'headers':{'Content-Type':_0x13ea0e(0x229)}});if(!_0x3c6dad['ok'])throw new Error('Failed\x20to\x20fetch\x20order\x20items');const _0xf5bbc=await _0x3c6dad[_0x13ea0e(0x260)](),_0x443162=await Promise['all'](_0xf5bbc[_0x13ea0e(0x264)](_0xc4f46e=>fetch(API_BASE_URL+_0x13ea0e(0x236)+_0xc4f46e['idDish'],{'credentials':_0x13ea0e(0x212),'headers':{'Content-Type':_0x13ea0e(0x229)}})[_0x13ea0e(0x279)](_0x3cb8bb=>_0x3cb8bb['json']()))),_0x2ac309=await fetch(API_BASE_URL+_0x13ea0e(0x2ab)+_0x40039e['idCustomer'],{'credentials':_0x13ea0e(0x212),'headers':{'Content-Type':_0x13ea0e(0x229)}}),_0x5961fe=await _0x2ac309[_0x13ea0e(0x260)]();createOrderDetailsContent(_0x40039e,_0xf5bbc,_0x443162,_0x5961fe),currentOrderId=_0x40039e[_0x13ea0e(0x1ff)];const _0x237521=document['getElementById'](_0x13ea0e(0x2a7));_0x237521[_0x13ea0e(0x22f)]=_0x13ea0e(0x295)+_0x40039e[_0x13ea0e(0x25a)]+')',_0x237521['onclick']=showOrderStatusUpdateOptions,orderDetailModal[_0x13ea0e(0x233)][_0x13ea0e(0x28f)](_0x13ea0e(0x2a5));}catch(_0x1a0a0a){showError(_0x1a0a0a[_0x13ea0e(0x269)]);}finally{hideLoading();}}function createOrderDetailsContent(_0x414218,_0x30e11b,_0x5cb399,_0x11dc8d){const _0x30354f=_0x1e873b,_0x6c0a78=document['getElementById'](_0x30354f(0x267));_0x6c0a78['innerHTML']='';let _0x1f98dd=0x0;const _0x558e42=document[_0x30354f(0x28e)](_0x30354f(0x243));_0x558e42[_0x30354f(0x23f)]=_0x30354f(0x2a2);const _0x53631b=document[_0x30354f(0x28e)]('tr');_0x53631b[_0x30354f(0x221)]=_0x30354f(0x206);const _0x4509c1=document['createElement'](_0x30354f(0x1e9));_0x30e11b['forEach']((_0x1abe2e,_0x51e1ed)=>{const _0x56e534=_0x30354f,_0x552f8c=_0x5cb399[_0x51e1ed],_0x170659=_0x1abe2e[_0x56e534(0x294)]*_0x1abe2e[_0x56e534(0x211)];_0x1f98dd+=_0x170659;const _0x55e44d=document[_0x56e534(0x28e)]('tr');_0x55e44d[_0x56e534(0x23f)]='border-b\x20border-gray-200';const _0x3d26fc=document['createElement']('td');_0x3d26fc[_0x56e534(0x23f)]=_0x56e534(0x2b2),_0x3d26fc[_0x56e534(0x22f)]=_0x552f8c[_0x56e534(0x29f)];const _0x5b664f=document[_0x56e534(0x28e)]('td');_0x5b664f[_0x56e534(0x23f)]=_0x56e534(0x255),_0x5b664f[_0x56e534(0x22f)]=_0x1abe2e[_0x56e534(0x294)];const _0x1a44d9=document[_0x56e534(0x28e)]('td');_0x1a44d9[_0x56e534(0x23f)]=_0x56e534(0x1e4),_0x1a44d9[_0x56e534(0x22f)]='$'+_0x1abe2e[_0x56e534(0x211)][_0x56e534(0x29c)](0x2);const _0x2813f1=document[_0x56e534(0x28e)]('td');_0x2813f1[_0x56e534(0x23f)]=_0x56e534(0x230),_0x2813f1[_0x56e534(0x22f)]='$'+_0x170659[_0x56e534(0x29c)](0x2),_0x55e44d[_0x56e534(0x1f7)](_0x3d26fc),_0x55e44d[_0x56e534(0x1f7)](_0x5b664f),_0x55e44d[_0x56e534(0x1f7)](_0x1a44d9),_0x55e44d[_0x56e534(0x1f7)](_0x2813f1),_0x4509c1[_0x56e534(0x1f7)](_0x55e44d);});const _0x42edc7=document['createElement']('tr');_0x42edc7[_0x30354f(0x23f)]=_0x30354f(0x26f);const _0x502cea=document['createElement']('td');_0x502cea['className']=_0x30354f(0x1e4),_0x502cea[_0x30354f(0x227)]=0x3,_0x502cea[_0x30354f(0x22f)]='Total:';const _0x9dc8d0=document[_0x30354f(0x28e)]('td');_0x9dc8d0['className']=_0x30354f(0x1e4),_0x9dc8d0[_0x30354f(0x22f)]='$'+_0x1f98dd[_0x30354f(0x29c)](0x2),_0x42edc7['appendChild'](_0x502cea),_0x42edc7[_0x30354f(0x1f7)](_0x9dc8d0),_0x4509c1[_0x30354f(0x1f7)](_0x42edc7),_0x558e42[_0x30354f(0x1f7)](_0x53631b),_0x558e42[_0x30354f(0x1f7)](_0x4509c1),_0x6c0a78[_0x30354f(0x1f7)](_0x558e42);const _0x98352a=document[_0x30354f(0x258)]('orderDetailSummary'),_0x42a376=new Date(_0x414218[_0x30354f(0x216)]),_0x53411c=document['createElement'](_0x30354f(0x2a4));_0x53411c['className']='bg-gray-50\x20p-4\x20rounded-lg';const _0x5dea2c=document[_0x30354f(0x28e)]('div');_0x5dea2c[_0x30354f(0x23f)]=_0x30354f(0x24f),_0x5dea2c[_0x30354f(0x221)]=_0x30354f(0x281)+_0x414218['idOrder']+_0x30354f(0x292);const _0x547106=document[_0x30354f(0x28e)](_0x30354f(0x2a4));_0x547106[_0x30354f(0x23f)]=_0x30354f(0x24f),_0x547106[_0x30354f(0x221)]=_0x30354f(0x1e6)+_0x42a376[_0x30354f(0x2b1)]()+'\x20'+_0x42a376['toLocaleTimeString']();const _0x30c1ec=document[_0x30354f(0x28e)](_0x30354f(0x2a4));_0x30c1ec[_0x30354f(0x23f)]=_0x30354f(0x24f),_0x30c1ec[_0x30354f(0x221)]=_0x30354f(0x2b0)+_0x11dc8d['firstName']+'\x20'+_0x11dc8d[_0x30354f(0x23a)];const _0x4b1f74=document[_0x30354f(0x28e)](_0x30354f(0x2a4));_0x4b1f74[_0x30354f(0x23f)]=_0x30354f(0x24f),_0x4b1f74[_0x30354f(0x221)]=_0x30354f(0x2bc);const _0x2d8d63=document['createElement']('span');_0x2d8d63[_0x30354f(0x23f)]=_0x30354f(0x25f)+_0x414218[_0x30354f(0x25a)][_0x30354f(0x235)]()[_0x30354f(0x23d)](/\s+/g,''),_0x2d8d63[_0x30354f(0x22f)]=_0x414218[_0x30354f(0x25a)],_0x4b1f74['appendChild'](_0x2d8d63);const _0x11b3c9=document[_0x30354f(0x28e)](_0x30354f(0x2a4));_0x11b3c9[_0x30354f(0x23f)]=_0x30354f(0x23e),_0x11b3c9[_0x30354f(0x22f)]=_0x30354f(0x28d)+_0x1f98dd[_0x30354f(0x29c)](0x2),_0x53411c[_0x30354f(0x1f7)](_0x5dea2c),_0x53411c['appendChild'](_0x547106),_0x53411c[_0x30354f(0x1f7)](_0x30c1ec),_0x53411c[_0x30354f(0x1f7)](_0x4b1f74),_0x53411c[_0x30354f(0x1f7)](_0x11b3c9),_0x98352a[_0x30354f(0x221)]='',_0x98352a[_0x30354f(0x1f7)](_0x53411c);}function closeOrderDetailModal(){const _0x5791b6=_0x1e873b;orderDetailModal['classList']['remove'](_0x5791b6(0x2a5)),currentOrderId=null;}function showOrderStatusUpdateOptions(){const _0x2d2c33=_0x1e873b;if(!currentOrderId)return;const _0x18e313=[_0x2d2c33(0x21a),_0x2d2c33(0x296),_0x2d2c33(0x250),_0x2d2c33(0x289),_0x2d2c33(0x219)],_0x5a20b9=document[_0x2d2c33(0x28e)]('div');_0x5a20b9['id']='status-update-popover',_0x5a20b9[_0x2d2c33(0x23f)]=_0x2d2c33(0x1e7),_0x5a20b9[_0x2d2c33(0x218)][_0x2d2c33(0x203)]='200px';const _0x5e466e=document['getElementById']('updateOrderStatusBtn'),_0x1e256c=_0x5e466e[_0x2d2c33(0x2bb)]();_0x5a20b9[_0x2d2c33(0x218)][_0x2d2c33(0x27f)]=_0x1e256c['bottom']+0x5+'px',_0x5a20b9[_0x2d2c33(0x218)][_0x2d2c33(0x2a3)]=_0x1e256c[_0x2d2c33(0x2a3)]+'px';const _0x1532e3=document[_0x2d2c33(0x28e)](_0x2d2c33(0x2a4));_0x1532e3[_0x2d2c33(0x23f)]=_0x2d2c33(0x290),_0x1532e3[_0x2d2c33(0x22f)]=_0x2d2c33(0x23c),_0x5a20b9[_0x2d2c33(0x1f7)](_0x1532e3);const _0x282a8d=document['createElement'](_0x2d2c33(0x2a4));_0x282a8d[_0x2d2c33(0x23f)]='p-2',_0x18e313[_0x2d2c33(0x21b)](_0x10d369=>{const _0xca4be9=_0x2d2c33,_0x2d9497=document[_0xca4be9(0x28e)]('div');_0x2d9497[_0xca4be9(0x23f)]=_0xca4be9(0x2a9),_0x2d9497['textContent']=_0x10d369,_0x2d9497[_0xca4be9(0x265)](_0xca4be9(0x225),()=>{const _0x2376fd=_0xca4be9;updateOrderStatus(_0x10d369),document['body'][_0x2376fd(0x299)](_0x5a20b9);}),_0x282a8d['appendChild'](_0x2d9497);}),_0x5a20b9['appendChild'](_0x282a8d),document['body'][_0x2d2c33(0x1f7)](_0x5a20b9);function _0x90c426(_0x70dfcd){const _0x463861=_0x2d2c33;!_0x5a20b9[_0x463861(0x29d)](_0x70dfcd[_0x463861(0x262)])&&_0x70dfcd['target']!==_0x5e466e&&(document['body']['removeChild'](_0x5a20b9),document[_0x463861(0x2be)](_0x463861(0x225),_0x90c426));}setTimeout(()=>{const _0xdb2c21=_0x2d2c33;document[_0xdb2c21(0x265)](_0xdb2c21(0x225),_0x90c426);},0xa);}async function updateOrderStatus(_0x5d2ad5){const _0x12242d=_0x1e873b;if(!currentOrderId)return;showLoading();try{const _0x56e39e=await fetch(API_BASE_URL+_0x12242d(0x26b)+currentOrderId+_0x12242d(0x1ee)+encodeURIComponent(_0x5d2ad5),{'method':_0x12242d(0x209),'credentials':_0x12242d(0x212),'headers':{'Content-Type':'application/json'}});if(!_0x56e39e['ok'])throw new Error(_0x12242d(0x1f4));showSuccess('Estado\x20del\x20pedido\x20actualizado\x20a\x20'+_0x5d2ad5),await showOrderDetails(currentOrderId),fetchOrders();}catch(_0x148ec1){showError(_0x148ec1[_0x12242d(0x269)]);}finally{hideLoading();}}function _0x2b2e(_0x413884,_0x3e44a0){const _0xec942b=_0xec94();return _0x2b2e=function(_0x2b2e0,_0x31718a){_0x2b2e0=_0x2b2e0-0x1e4;let _0x501ab8=_0xec942b[_0x2b2e0];return _0x501ab8;},_0x2b2e(_0x413884,_0x3e44a0);}async function handleOrderSearch(){const _0x4e72d8=_0x1e873b,_0x1649bb=orderSearchInput[_0x4e72d8(0x207)]['trim']();if(_0x1649bb===''){fetchOrders();return;}showLoading();try{const _0x110e64=await fetch(API_BASE_URL+'/orders',{'credentials':_0x4e72d8(0x212),'headers':{'Content-Type':_0x4e72d8(0x229)}});if(!_0x110e64['ok'])throw new Error('Failed\x20to\x20fetch\x20orders');const _0x11fe55=await _0x110e64[_0x4e72d8(0x260)](),_0x19eb58=await fetch(API_BASE_URL+_0x4e72d8(0x28a),{'credentials':'include','headers':{'Content-Type':_0x4e72d8(0x229)}});if(!_0x19eb58['ok'])throw new Error(_0x4e72d8(0x27d));const _0x4061a6=await _0x19eb58[_0x4e72d8(0x260)](),_0x2e3314={};_0x4061a6[_0x4e72d8(0x21b)](_0x5664e5=>{const _0x32be42=_0x4e72d8;_0x2e3314[_0x5664e5[_0x32be42(0x2bf)]]=_0x5664e5['firstName']+'\x20'+_0x5664e5['lastName'];});const _0x5ee17d=_0x1649bb[_0x4e72d8(0x235)](),_0x3e4098=_0x11fe55[_0x4e72d8(0x27c)](_0xfcbfe0=>{const _0x47d46f=_0x4e72d8;if(_0xfcbfe0['idOrder']['toString']()[_0x47d46f(0x231)](_0x1649bb))return!![];const _0x15ffce=_0x2e3314[_0xfcbfe0[_0x47d46f(0x1ec)]]||'';if(_0x15ffce[_0x47d46f(0x235)]()['includes'](_0x5ee17d))return!![];if(_0xfcbfe0[_0x47d46f(0x25a)][_0x47d46f(0x235)]()[_0x47d46f(0x231)](_0x5ee17d))return!![];return![];});displayOrders(_0x3e4098,_0x2e3314);}catch(_0x590643){showError(_0x590643['message']);}finally{hideLoading();}}