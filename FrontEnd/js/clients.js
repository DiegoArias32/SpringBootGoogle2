const _0x17195a=_0xff52;(function(_0x440759,_0x424d97){const _0x844934=_0xff52,_0x1cb7cc=_0x440759();while(!![]){try{const _0x3a1f51=-parseInt(_0x844934(0xd9))/0x1*(-parseInt(_0x844934(0xea))/0x2)+-parseInt(_0x844934(0xeb))/0x3*(-parseInt(_0x844934(0xb0))/0x4)+parseInt(_0x844934(0xb9))/0x5+parseInt(_0x844934(0x10b))/0x6+-parseInt(_0x844934(0xbf))/0x7*(parseInt(_0x844934(0xfa))/0x8)+parseInt(_0x844934(0xe9))/0x9+parseInt(_0x844934(0xcd))/0xa*(-parseInt(_0x844934(0xdf))/0xb);if(_0x3a1f51===_0x424d97)break;else _0x1cb7cc['push'](_0x1cb7cc['shift']());}catch(_0x1f90f4){_0x1cb7cc['push'](_0x1cb7cc['shift']());}}}(_0x561a,0x775e6));const clientTableBody=document[_0x17195a(0xe2)](_0x17195a(0xb5)),clientModal=document[_0x17195a(0xe2)](_0x17195a(0xf0)),clientForm=document[_0x17195a(0xe2)](_0x17195a(0x102)),clientSearchInput=document[_0x17195a(0xe2)](_0x17195a(0x9f)),clientSearchBtn=document[_0x17195a(0xe2)](_0x17195a(0xdb)),filterFields=document[_0x17195a(0xd3)](_0x17195a(0xff));document[_0x17195a(0xaa)](_0x17195a(0x112),()=>{const _0x9ebf73=_0x17195a;fetchClients(),document[_0x9ebf73(0xe2)]('addClientBtn')[_0x9ebf73(0xaa)](_0x9ebf73(0xf4),showAddClientModal),document[_0x9ebf73(0xe2)](_0x9ebf73(0xa4))[_0x9ebf73(0xaa)]('click',closeClientModal),document[_0x9ebf73(0xe2)](_0x9ebf73(0xcb))[_0x9ebf73(0xaa)](_0x9ebf73(0xf4),closeClientModal),clientForm[_0x9ebf73(0xaa)](_0x9ebf73(0xf7),handleClientFormSubmit),setupAdvancedFilters();});function _0x561a(){const _0x6c0378=['clientForm','Failed\x20to\x20fetch\x20clients','email','/clients/','idClient','btn\x20btn-sm\x20btn-warning\x20edit-client-btn','btn\x20btn-light','text','validateRequired','371346vMhOJg','Phone','fas\x20fa-edit','No\x20se\x20encontraron\x20clientes','fas\x20fa-trash','json','trim','DOMContentLoaded','input','clientSearchInput','validateMaxLength','number','stringify','remove','closeClientModal','Email','Clear','placeholder','phone','clientPhone','addEventListener','catch','filter-name','Failed\x20to\x20search\x20clients','Editar\x20Cliente','text-lg\x20font-semibold\x20mb-3','92492IxJUtw','advanced-filter-container\x20bg-white\x20p-4\x20rounded-lg\x20mb-4\x20border\x20border-gray-200','clientEmail','filter-id','toLowerCase','clientTableBody','active','message','filter-email','3987685gFQDhI','value','apellido','.search-box','Advanced\x20Filters','querySelector','35vcaVJf','Phone\x20Number','nombre','parentNode','First\x20or\x20Last\x20Name','create','validateForm','input,\x20select,\x20textarea','.error-message','insertBefore','#clients','form-group','cancelClientBtn','firstName','5223490DMqlIM','grid\x20grid-cols-1\x20md:grid-cols-4\x20gap-4\x20mb-3','/clients/search?term=','htmlFor','some','telÃ©fono','querySelectorAll','clientLastName','appendChild','\x20client','then','clientFirstName','72506aBSeDR','classList','clientSearchBtn','.advanced-filter-container','filter-phone','nextSibling','11bKQcsJ','type','forEach','getElementById','name','validateEmail','btn\x20btn-primary','include','label','textContent','4978782OfrAUY','8ojxwlf','18uSvwiX','includes','PUT','div','finally','clientModal','/clients','button','createElement','click','reset','clientModalTitle','submit','lastName','clientId','1328168abfJiJ','Name','application/json','className','validateLettersOnly','.client-filter-field','add','Customer\x20ID'];_0x561a=function(){return _0x6c0378;};return _0x561a();}const clientValidations={'clientFirstName':[{'validator':FormValidation[_0x17195a(0x10a)],'params':[_0x17195a(0xc1)]},{'validator':FormValidation[_0x17195a(0xfe)],'params':[_0x17195a(0xc1)]},{'validator':FormValidation[_0x17195a(0xa0)],'params':[0x32,_0x17195a(0xc1)]}],'clientLastName':[{'validator':FormValidation[_0x17195a(0x10a)],'params':[_0x17195a(0xbb)]},{'validator':FormValidation[_0x17195a(0xfe)],'params':[_0x17195a(0xbb)]},{'validator':FormValidation['validateMaxLength'],'params':[0x32,'apellido']}],'clientEmail':[{'validator':FormValidation[_0x17195a(0xe4)],'params':[]},{'validator':FormValidation['validateMaxLength'],'params':[0x64,_0x17195a(0x104)]}],'clientPhone':[{'validator':FormValidation['validatePhone'],'params':[]},{'validator':FormValidation[_0x17195a(0xa0)],'params':[0xf,_0x17195a(0xd2)]}]};function setupAdvancedFilters(){const _0x87a6b0=_0x17195a;let _0x30cd43=document[_0x87a6b0(0xbe)](_0x87a6b0(0xdc));if(!_0x30cd43){const _0x384267=document[_0x87a6b0(0xbe)](_0x87a6b0(0xc9));if(!_0x384267)return;const _0xf83053=_0x384267[_0x87a6b0(0xbe)](_0x87a6b0(0xbc));if(!_0xf83053)return;_0x30cd43=document['createElement'](_0x87a6b0(0xee)),_0x30cd43[_0x87a6b0(0xfd)]=_0x87a6b0(0xb1);const _0xd24dee=document[_0x87a6b0(0xf3)]('h4');_0xd24dee[_0x87a6b0(0xfd)]=_0x87a6b0(0xaf),_0xd24dee[_0x87a6b0(0xe8)]=_0x87a6b0(0xbd),_0x30cd43[_0x87a6b0(0xd5)](_0xd24dee);const _0x3cd3a2=document[_0x87a6b0(0xf3)](_0x87a6b0(0xee));_0x3cd3a2[_0x87a6b0(0xfd)]=_0x87a6b0(0xce);const _0x254e82=[{'id':_0x87a6b0(0xb3),'label':'ID','type':_0x87a6b0(0xa1),'placeholder':_0x87a6b0(0x101)},{'id':_0x87a6b0(0xac),'label':_0x87a6b0(0xfb),'type':_0x87a6b0(0x109),'placeholder':_0x87a6b0(0xc3)},{'id':_0x87a6b0(0xb8),'label':_0x87a6b0(0xa5),'type':_0x87a6b0(0x109),'placeholder':_0x87a6b0(0xa5)},{'id':_0x87a6b0(0xdd),'label':_0x87a6b0(0x10c),'type':'text','placeholder':_0x87a6b0(0xc0)}];_0x254e82[_0x87a6b0(0xe1)](_0x4129d8=>{const _0x58ca5f=_0x87a6b0,_0x12b23e=document[_0x58ca5f(0xf3)](_0x58ca5f(0xee));_0x12b23e[_0x58ca5f(0xfd)]=_0x58ca5f(0xca);const _0x2ff8a9=document['createElement'](_0x58ca5f(0xe7));_0x2ff8a9[_0x58ca5f(0xfd)]='form-label',_0x2ff8a9[_0x58ca5f(0xd0)]=_0x4129d8['id'],_0x2ff8a9['textContent']=_0x4129d8[_0x58ca5f(0xe7)];const _0x4d5126=document[_0x58ca5f(0xf3)](_0x58ca5f(0x113));_0x4d5126['className']='form-control\x20client-filter-field',_0x4d5126[_0x58ca5f(0xe0)]=_0x4129d8[_0x58ca5f(0xe0)],_0x4d5126['id']=_0x4129d8['id'],_0x4d5126[_0x58ca5f(0xa7)]=_0x4129d8[_0x58ca5f(0xa7)],_0x12b23e[_0x58ca5f(0xd5)](_0x2ff8a9),_0x12b23e[_0x58ca5f(0xd5)](_0x4d5126),_0x3cd3a2[_0x58ca5f(0xd5)](_0x12b23e);}),_0x30cd43[_0x87a6b0(0xd5)](_0x3cd3a2);const _0x22ffec=document['createElement']('div');_0x22ffec['className']='flex\x20justify-end\x20space-x-2';const _0x46db6a=document[_0x87a6b0(0xf3)](_0x87a6b0(0xf2));_0x46db6a[_0x87a6b0(0xe0)]=_0x87a6b0(0xf2),_0x46db6a[_0x87a6b0(0xfd)]=_0x87a6b0(0x108),_0x46db6a['textContent']=_0x87a6b0(0xa6),_0x46db6a['addEventListener']('click',resetFilters);const _0x332f8c=document[_0x87a6b0(0xf3)](_0x87a6b0(0xf2));_0x332f8c[_0x87a6b0(0xe0)]=_0x87a6b0(0xf2),_0x332f8c[_0x87a6b0(0xfd)]=_0x87a6b0(0xe5),_0x332f8c[_0x87a6b0(0xe8)]='Apply\x20Filters',_0x332f8c[_0x87a6b0(0xaa)](_0x87a6b0(0xf4),applyAdvancedFilters),_0x22ffec[_0x87a6b0(0xd5)](_0x46db6a),_0x22ffec[_0x87a6b0(0xd5)](_0x332f8c),_0x30cd43[_0x87a6b0(0xd5)](_0x22ffec),_0xf83053[_0x87a6b0(0xc2)][_0x87a6b0(0xc8)](_0x30cd43,_0xf83053[_0x87a6b0(0xde)]);}}function resetFilters(){const _0x1de239=_0x17195a;document['querySelectorAll'](_0x1de239(0xff))[_0x1de239(0xe1)](_0x2cad46=>{const _0x52c963=_0x1de239;_0x2cad46[_0x52c963(0xba)]='';}),fetchClients();}function applyAdvancedFilters(){const _0x28d926=_0x17195a,_0x43933a={'id':document[_0x28d926(0xe2)](_0x28d926(0xb3))?.[_0x28d926(0xba)]||'','name':document[_0x28d926(0xe2)](_0x28d926(0xac))?.[_0x28d926(0xba)]||'','email':document[_0x28d926(0xe2)](_0x28d926(0xb8))?.[_0x28d926(0xba)]||'','phone':document[_0x28d926(0xe2)](_0x28d926(0xdd))?.[_0x28d926(0xba)]||''},_0x36415=Object['values'](_0x43933a)[_0x28d926(0xd1)](_0x1c2650=>_0x1c2650!=='');if(!_0x36415){fetchClients();return;}showLoading(),fetch(API_BASE_URL+_0x28d926(0xf1),{'credentials':_0x28d926(0xe6),'headers':{'Content-Type':'application/json'}})['then'](_0x2e1882=>{const _0x3d6c3d=_0x28d926;if(!_0x2e1882['ok'])throw new Error(_0x3d6c3d(0x103));return _0x2e1882['json']();})[_0x28d926(0xd7)](_0x509192=>{const _0x1132a3=_0x509192['filter'](_0x1d6d9b=>{const _0x178390=_0xff52;if(_0x43933a['id']&&_0x1d6d9b['idClient']!=_0x43933a['id'])return![];const _0x18d34b=(_0x1d6d9b[_0x178390(0xcc)]+'\x20'+_0x1d6d9b[_0x178390(0xf8)])['toLowerCase']();if(_0x43933a[_0x178390(0xe3)]&&!_0x18d34b[_0x178390(0xec)](_0x43933a[_0x178390(0xe3)][_0x178390(0xb4)]()))return![];if(_0x43933a[_0x178390(0x104)]&&_0x1d6d9b[_0x178390(0x104)]&&!_0x1d6d9b[_0x178390(0x104)][_0x178390(0xb4)]()['includes'](_0x43933a['email'][_0x178390(0xb4)]()))return![];if(_0x43933a[_0x178390(0xa8)]&&_0x1d6d9b[_0x178390(0xa8)]&&!_0x1d6d9b[_0x178390(0xa8)][_0x178390(0xec)](_0x43933a[_0x178390(0xa8)]))return![];return!![];});displayClients(_0x1132a3);})[_0x28d926(0xab)](_0x4225f8=>{showError(_0x4225f8['message']);})[_0x28d926(0xef)](()=>{hideLoading();});}async function fetchClients(){const _0x3fab40=_0x17195a;showLoading();try{const _0x335c8e=await fetch(API_BASE_URL+_0x3fab40(0xf1),{'credentials':_0x3fab40(0xe6),'headers':{'Content-Type':'application/json'}});if(!_0x335c8e['ok'])throw new Error(_0x3fab40(0x103));const _0x12435a=await _0x335c8e[_0x3fab40(0x110)]();displayClients(_0x12435a);}catch(_0x2d82e2){showError(_0x2d82e2[_0x3fab40(0xb7)]);}finally{hideLoading();}}function displayClients(_0x2967d6){const _0x405e98=_0x17195a;clientTableBody['innerHTML']='';if(_0x2967d6['length']===0x0){clientTableBody[_0x405e98(0xd5)](createNoDataRow(_0x405e98(0x10e),0x5));return;}_0x2967d6[_0x405e98(0xe1)](_0x185f33=>{const _0x4b6f50=_0x405e98,_0x2abdfd=createClientRow(_0x185f33);clientTableBody[_0x4b6f50(0xd5)](_0x2abdfd);});}function createClientRow(_0x517fbe){const _0x12d3e4=_0x17195a,_0x342fd5=document['createElement']('tr');_0x342fd5[_0x12d3e4(0xd5)](createTableCell('#'+_0x517fbe[_0x12d3e4(0x106)])),_0x342fd5['appendChild'](createTableCell(_0x517fbe[_0x12d3e4(0xcc)]+'\x20'+_0x517fbe['lastName'])),_0x342fd5[_0x12d3e4(0xd5)](createTableCell(_0x517fbe[_0x12d3e4(0x104)]||'-')),_0x342fd5[_0x12d3e4(0xd5)](createTableCell(_0x517fbe[_0x12d3e4(0xa8)]||'-'));const _0x39c2a8=createTableCell('','table-actions'),_0x64686=createButton(_0x12d3e4(0x10d),_0x12d3e4(0x107),()=>showEditClientModal(_0x517fbe[_0x12d3e4(0x106)]),{'id':_0x517fbe[_0x12d3e4(0x106)]}),_0x79567e=createButton(_0x12d3e4(0x10f),'btn\x20btn-sm\x20btn-danger\x20delete-client-btn',()=>showDeleteConfirmation('client',_0x517fbe['idClient']),{'id':_0x517fbe['idClient']});return _0x39c2a8[_0x12d3e4(0xd5)](_0x64686),_0x39c2a8[_0x12d3e4(0xd5)](_0x79567e),_0x342fd5[_0x12d3e4(0xd5)](_0x39c2a8),_0x342fd5;}function showAddClientModal(){const _0x462ec1=_0x17195a;document[_0x462ec1(0xe2)](_0x462ec1(0xf6))[_0x462ec1(0xe8)]='Agregar\x20Nuevo\x20Cliente',clientForm[_0x462ec1(0xf5)](),document['getElementById'](_0x462ec1(0xf9))['value']='',clearAllFormErrors(clientForm),clientModal[_0x462ec1(0xda)]['add']('active');}async function showEditClientModal(_0x254e41){const _0x48348f=_0x17195a;showLoading();try{const _0x38df61=await fetch(API_BASE_URL+_0x48348f(0x105)+_0x254e41,{'credentials':'include','headers':{'Content-Type':_0x48348f(0xfc)}});if(!_0x38df61['ok'])throw new Error('Failed\x20to\x20fetch\x20client\x20details');const _0x42115c=await _0x38df61['json']();document[_0x48348f(0xe2)](_0x48348f(0xf6))['textContent']=_0x48348f(0xae),document[_0x48348f(0xe2)](_0x48348f(0xf9))[_0x48348f(0xba)]=_0x42115c[_0x48348f(0x106)],document[_0x48348f(0xe2)](_0x48348f(0xd8))[_0x48348f(0xba)]=_0x42115c['firstName'],document[_0x48348f(0xe2)](_0x48348f(0xd4))['value']=_0x42115c[_0x48348f(0xf8)],document[_0x48348f(0xe2)]('clientEmail')[_0x48348f(0xba)]=_0x42115c[_0x48348f(0x104)]||'',document[_0x48348f(0xe2)](_0x48348f(0xa9))[_0x48348f(0xba)]=_0x42115c[_0x48348f(0xa8)]||'',clearAllFormErrors(clientForm),clientModal[_0x48348f(0xda)][_0x48348f(0x100)]('active');}catch(_0x3a659f){showError(_0x3a659f[_0x48348f(0xb7)]);}finally{hideLoading();}}function closeClientModal(){const _0x2e78aa=_0x17195a;clientModal[_0x2e78aa(0xda)][_0x2e78aa(0xa3)](_0x2e78aa(0xb6));}function _0xff52(_0x113d9c,_0x3bca61){const _0x561a39=_0x561a();return _0xff52=function(_0xff52ca,_0x242b92){_0xff52ca=_0xff52ca-0x9f;let _0x18b894=_0x561a39[_0xff52ca];return _0x18b894;},_0xff52(_0x113d9c,_0x3bca61);}function clearAllFormErrors(_0x26d32a){const _0x18ba62=_0x17195a,_0x1fc0be=_0x26d32a[_0x18ba62(0xd3)](_0x18ba62(0xc7));_0x1fc0be[_0x18ba62(0xe1)](_0x66b79d=>{const _0x295761=_0x18ba62;_0x66b79d[_0x295761(0xe8)]='';});const _0x521dfd=_0x26d32a[_0x18ba62(0xd3)](_0x18ba62(0xc6));_0x521dfd[_0x18ba62(0xe1)](_0x48b18a=>{const _0x5acae6=_0x18ba62;_0x48b18a['classList'][_0x5acae6(0xa3)]('border-red-500');});}async function handleClientFormSubmit(_0xe6e238){const _0xf6ae82=_0x17195a;_0xe6e238['preventDefault']();if(!FormValidation[_0xf6ae82(0xc5)](clientForm,clientValidations))return;const _0x2ae144={'firstName':document[_0xf6ae82(0xe2)]('clientFirstName')[_0xf6ae82(0xba)][_0xf6ae82(0x111)](),'lastName':document[_0xf6ae82(0xe2)](_0xf6ae82(0xd4))[_0xf6ae82(0xba)]['trim'](),'email':document['getElementById'](_0xf6ae82(0xb2))[_0xf6ae82(0xba)][_0xf6ae82(0x111)](),'phone':document[_0xf6ae82(0xe2)](_0xf6ae82(0xa9))[_0xf6ae82(0xba)][_0xf6ae82(0x111)]()},_0x5d9691=document['getElementById'](_0xf6ae82(0xf9))[_0xf6ae82(0xba)],_0x17cebd=_0x5d9691!=='';showLoading();try{let _0x377f52;_0x17cebd?(_0x2ae144[_0xf6ae82(0x106)]=_0x5d9691,_0x377f52=await fetch(API_BASE_URL+_0xf6ae82(0x105)+_0x5d9691,{'method':_0xf6ae82(0xed),'credentials':'include','headers':{'Content-Type':_0xf6ae82(0xfc)},'body':JSON[_0xf6ae82(0xa2)](_0x2ae144)})):_0x377f52=await fetch(API_BASE_URL+_0xf6ae82(0xf1),{'method':'POST','credentials':_0xf6ae82(0xe6),'headers':{'Content-Type':_0xf6ae82(0xfc)},'body':JSON[_0xf6ae82(0xa2)](_0x2ae144)});if(!_0x377f52['ok'])throw new Error('Failed\x20to\x20'+(_0x17cebd?'update':_0xf6ae82(0xc4))+_0xf6ae82(0xd6));const _0x2be3c6=await _0x377f52[_0xf6ae82(0x109)]();showSuccess(_0x2be3c6),closeClientModal(),fetchClients();}catch(_0x1c6a88){showError(_0x1c6a88[_0xf6ae82(0xb7)]);}finally{hideLoading();}}async function handleClientSearch(){const _0x5425bf=_0x17195a,_0x54ec5e=clientSearchInput[_0x5425bf(0xba)][_0x5425bf(0x111)]();if(_0x54ec5e===''){fetchClients();return;}showLoading();try{const _0x1d2290=await fetch(API_BASE_URL+_0x5425bf(0xcf)+encodeURIComponent(_0x54ec5e),{'credentials':'include','headers':{'Content-Type':_0x5425bf(0xfc)}});if(!_0x1d2290['ok'])throw new Error(_0x5425bf(0xad));const _0x5ce050=await _0x1d2290['json']();displayClients(_0x5ce050);}catch(_0x7f0958){showError(_0x7f0958[_0x5425bf(0xb7)]);}finally{hideLoading();}}